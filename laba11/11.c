#include <stdio.h>
#include <math.h>

double E = pow(10,-3); 

// Функция для вычисления факториала числа(вычислять факториал числа "а", уменьшая его на 1 с каждым рекурсивным вызовом, пока число не станет равным 0 или 1.)
int factorial(int a) {
    if (a == 0 || a == 1)
        return 1;
    return a * factorial(a - 1); // Рекурсивный вызов для вычисления факториала
}

// Функция для вычисления косинуса при помощи ряда Тейлора ()
double cosa(double x, int n) {
    // Вычисление очередного члена ряда Тейлора
    double F = pow(x, 2 * n) / factorial(2 * n);
    // Если текущий член меньше E, возвращаем его
    if (F < E)
        return F;
    // Возвращаем значение ряда Тейлора с учетом знака (-1)^n и суммы предыдущих членов
    return pow(-1, n) * F + cosa(x, n + 1);
}

int main() {   
    printf("Введите аргумент для cos: ");
    double x;
    scanf("%lf", &x); // Ввод значения угла x
    printf("%lf \n", cosa(x, 0)); // Вывод приближенного значения косинуса, вычисленного с помощью ряда Тейлора
    printf("%lf \n", cos(x)); // Вывод значения косинуса, вычисленного функцией из стандартной библиотеки
}
